<!-- sldsValidatorIgnore -->
<!-- sldsValidatorIgnore -->
<template>
  
  <c-header-card title="Reallocations de Clients" show-icon></c-header-card>
  <lightning-card>

    <lightning-tabset variant="appRealloction">
      
      <lightning-tab label="SINGLE REALOC - (Multi to One Owner)">
       
          <lightning-card>
            <c-generic-header header-title="Select" is-heading1 show-icon icon-name="standard:account"></c-generic-header>
           

            <!-- <c-multi-select-combobox
            label = "Country"
            name = "combobox1" 
            options = {options1}
            onselected = {handleCombobox1Change}
            ></c-multi-select-combobox> -->
            <!-- onchange={handleCombobox1Change} -->
            <!-- value={selectedValues} -->
            <!-- <p>Valeurs sélectionnées dans le composant parent : {selectedValuesString}</p> -->
            <!-- <c-combobox
            name="combobox1" 
            label="Country" 
            options={options1}
            onselected={handleSelectedValues}
            multiselect = true
            autocomplete = true
            ></c-combobox> -->
            <!-- disabled = {dis1} -->
            <!-- current-options = {currentOptions} 
            selected-items = {selectedItems}
            selected-options = {selectedOptions} -->
            <!-- <c-combobox
            name="combobox2" 
            label="Stors" 
            options={options2}
            value={value2}
            multiselect = true
            autocomplete = true
            disabled={isCombobox2Disabled}
            onchange={handleCombobox2Change}
            ></c-combobox> -->
            <!-- <c-combobox
          name="combobox3" 
          label="Owners" 
          options={options3}
          value={value3}
          multiselect = true
          autocomplete = true
          disabled={isCombobox3Disabled}
          onchange={handleCombobox3Change}
          ></c-combobox> -->
          <!-- disabled={isCombobox3Disabled} -->
                <div class="slds-p-horizontal_medium slds-grid slds-gutters">
                  <div class="slds-col slds-size_2-of-10 slds-p-horizontal_medium slds-m-around_xxx-small">
                    <div>
                  </div>      
                    <c-multi-combobox label="Country" placeholder = "Select Country" data-label="combobox11"
                    name="combobox1" options={options1}  aura:id="combobox1"
                    onchange = {handleCombobox1Change} 
                    >
                  </c-multi-combobox>
                </div>
                <button type="reset" onclick={reset1}>reset</button>
                    <div class="slds-col slds-size_3-of-10 slds-m-around_xxx-small">
                      <c-multi-combobox label="Stors"  placeholder = "Select Stors" 
                      isdisabled={isCombobox2Disabled}
                    name="combobox2" options={options2}  aura:id="combobox2"
                    onchange = {handleCombobox2Change} 
                    >
                  
                  </c-multi-combobox>
                  <!-- reset-flag = {inver} -->
                  </div>
                  <div class="slds-col slds-size_4-of-10 slds-m-around_xxx-small">
                  <c-multi-combobox label="Sellers" placeholder = "Select Sellers"
                  name="OwnerWithClients" options={options3}
                  onchange = {handleCombobox3Change}
                  ></c-multi-combobox>
                </div>
                <div class="slds-col slds-size_1-of-10 slds-align_absolute-center slds-m-around_xxx-small" style="height:5rem">
                      <lightning-button variant="brand"  title="get clients" 
                      icon-name="utility:download" label={labelButton}
                      onclick={handleClickBnt} disabled={isBtnGetAcc} 
                      ></lightning-button>
                      
                  </div>
                </div>
          </lightning-card>
 
              
          <lightning-card>
            
            <div>
              <c-generic-header header-title="Result" is-heading3 show-icon icon-name="standard:customers"></c-generic-header>
      
          </div>
            <div class="slds-grid slds-wrap">
              <div class="slds-col slds-size_9-of-12">
                
                <lightning-card if:true={showTable}>
            

                  <div class="slds-var-p-around_small">
                    <div class="slds-p-horizontal_medium slds-grid slds-gutters">
                        <!-- <span
                            class="slds-form-element__label slds-text-title_bold slds-align_absolute-center">
                            Infinite Loading Example</span> -->
                            <div class="slds-col">
                              <span class="slds-form-element__label slds-text-title_bold">
                                <!-- Total Records: {totalNumberOfRows}</span> -->
                                Total Records: {resBtn.length}</span>
                              </div>
                              <div class="slds-col">
                                <span class="slds-form-element__label slds-text-title_bold">
                                  <!-- Displayed Records: {data.length}</span> -->
                                  Clients Selectionee: {lstIdAccounts.length}</span>
                                </div>
                                <c-datatable-search all-data={datag} onfiltered={handleResults}></c-datatable-search>
                              </div>
                    <div class="slds-box" style="height: 400px;">
        

                  <lightning-datatable
                      key-field="Id" 
                      data={filteredData} 
                      columns={columnsg}
                      show-row-number-column
                      enable-infinite-loading 
                      onrowselection={handleRowSelection}
                      >
                      <!-- onloadmore = {loadMoreData} -->
                      
                    </lightning-datatable>
                  </div>
                  <!-- onloadmore={handleLoadMore} -->
              <!-- {loadMoreStatus} -->
          </div>
        </lightning-card>
        </div>
                <div class="slds-col slds-size_3-of-12">
              <c-confirm-dialog
                  if:true={showDialog}
                  message=  {mymessage}
                  oncancel={handleCancel}
                  onconfirm={handleConfirm}>
              </c-confirm-dialog>
              
              <!-- <c-generic-header header-title="New Owner" is-heading3 show-icon icon-name="action:change_owner"></c-generic-header> -->
              <c-generic-header header-title="New Owner" is-heading3 show-icon icon-name="standard:customer_lifecycle_analytics"></c-generic-header>
      
          <div  style="padding: 1%">

            <c-combobox-generic 
            style="padding: 2%"
            name="combobox4" 
            label="Country" 
            value={value4} 
            options={options1}
            onchange={handleCombobox4Change}>
          </c-combobox-generic>
          
          <c-combobox-generic 
          style="padding: 2%"
          name="combobox5" 
          label="Stors" 
          value={value5} 
          options={options5}
          disabled={isCombobox5Disabled}
          onchange={handleCombobox5Change}>
        </c-combobox-generic>
        <div class="slds-box" hidden={isCards}>
          
          <div style="margin: 1%">
            <!-- <lightning-icon icon-name='action:approval' alternative-text='approval' size='x_small' title='approval'></lightning-icon> -->
            <!-- <lightning-badge class={clasSelectNowOwner} label={txtSelectNowOwner} icon-name="utility:success"></lightning-badge> -->
            <lightning-icon icon-name='standard:client' alternative-text='client' size='x-small' title='client'></lightning-icon>
            <lightning-badge class={clasSelectNowOwner} label={txtSelectNowOwner} icon-name="action:approval"></lightning-badge>
          </div>
        
          
          <template for:each={options6} for:item="rec">
            <div key={rec.id} class="slds-box slds-box_small">
              
              <div class="slds-p-horizontal_medium slds-grid slds-gutters">
                <div class="slds-col" style="height:2rem">
                  
                  <lightning-input
                  type="radio"
                  name="owner"
                  value={rec.id}
                  data-seller-name={rec.sellerName}
                  data-store-name={rec.storeName}
                  data-store-id={rec.storeId}
                  onchange={handleOwnerSelection}>
                </lightning-input>
                <lightning-icon icon-name='action:new_person_account' alternative-text='new_person_account' size='small' title='new_person_account'></lightning-icon>
              </div>
              
              <div class="slds-col">
                
                <lightning-card  title = {rec.sellerName}>
                <lightning-badge class="slds-badge_lightest  slds-float_right" label={rec.storeName} icon-name="standard:event"></lightning-badge>
             
            </lightning-card>
            
            <!-- <div class="container">
              <lightning-button label="Ouvrir Modal" onclick={openModal}></lightning-button>
          
              <div class={modalClass}>
                Contenu du modal
               <div>
                  <p>Contenu du modal...</p>
                  <lightning-button label="Fermer" onclick={closeModal}></lightning-button>
                </div>
              </div>
            </div> -->
            <!-- <lightning-button variant="base" label="details"  onmouseover={showModal}
              title="detail" icon-name="utility:download" class="slds-m-left_x-small">
            </lightning-button> -->
            <!-- <div onmouseover= {showTooltip} onmouseout={hideTooltip} > -->
              <!-- onclick={handleClickResetSettings} -->
              <!-- <template if:true = {isTooltipVisible}> -->
                <!-- <div class="custom-tooltip"> -->
                  <!-- <h1>Gateau</h1>
                    <p>{rec.listSegName}</p>
                    <p>{rec.arrValSeg}</p>
                    <p>Total:  {rec.arrValSeg.length}</p> -->
                  
                    <!-- labs={rec.listSegName} -->
                    <!-- valeurs={rec.arrValSeg} -->
                    <!-- long={rec.arrValSeg.length} -->
                    <!-- <c-my-tooltip-content recordid = {rec.id}></c-my-tooltip-content> -->
                    <!-- <lightning-icon icon-name="utility:chart" size="small"></lightning-icon> -->
                  <!-- </div> -->
              <!-- </template> -->
          <!-- </div> -->
          </div>
          
          
          <div class="slds-col">
            <div class="custom-tooltip">
              <lightning-icon icon-name="utility:chart" size="small" title={rec.listSegName}>
              </lightning-icon>
              <div class="tooltip-content">
              <c-libs-chartjs
              ></c-libs-chartjs>
              <!-- <div class="chart slds-var-m-around_medium" lwc:dom="manual"></div> -->
              <!-- labs={rec.listSegName}
              valeurs={rec.arrValSeg} -->

              <!-- <p>{rec.sellerName}</p>
                <p>{rec.listSegName}</p> -->
                <!-- <p>{rec.listSegName}.replace(/,/g, '\n')</p> -->
                <!-- <p>{rec.arrValSeg}</p> -->
                <!-- <p>Total: {rec.arrValSeg.length}</p> -->
                <!-- <c-misc-static-resource></c-misc-static-resource> -->
              </div>
            </div>
          </div>
          
          
          <div class="slds-col">
              <!-- <c-libs-chartjs
              labs={constlistSegName}
              valeurs={constArrValSeg}
              long=8
              ></c-libs-chartjs> -->
              <!-- <div class="slds-m-around_medium"> -->
                <!-- <lightning-chart type="donut" config={chartConfig}></lightning-chart> -->
              <!-- </div> -->
           
            
          </div>


              </div>
          </div>
        </template>


      </div>
      <div style="padding: 2%">
        <!-- <lightning-icon icon-name='action:change_owner' alternative-text='change_owner' size='small' title='change_owner'></lightning-icon> -->

        <lightning-button variant="success" label="Reallocations" title="Successful action"
         onclick={handleClickBntRealoc} disabled={isBtnRealoc} hidden={isCards}
         class="slds-m-left_x-small"></lightning-button>


        </div>
      </div>
    </div>

                      
        </div>
          </lightning-card>
      
            
        </lightning-tab>
        
        <lightning-tab label="MASS REALOC - (Many to Many Owner)">
        </lightning-tab>

        <lightning-tab label="About">
          <c-misc-static-resource></c-misc-static-resource>
        </lightning-tab>

  </lightning-tabset>
</lightning-card>
</template>