<!-- sldsValidatorIgnore -->
<!-- sldsValidatorIgnore -->
<!-- multi-select-combobox.html -->
<template>
    <div class="slds-box">

        <lightning-input
            label={label}
            type="text"
            value={selectedValuesString}
            placeholder={placeholderText}
            onchange={handleInputChange}
            readonly
            onclick={toggleDropdown}
        ></lightning-input>
        <template if:true={isDropdownOpen}>
            <div class="dropdown">
                <div class="search-container">
                    <input type="text" placeholder="Search" value={searchTerm} oninput={handleSearchInputChange} />
                </div>
                <ul>
                    <!-- key={option.value} -->
                    
                    <template for:each={filteredOptions} for:item="option">
                        <div key={option.value} class="slds-listbox__item slds-media slds-listbox__option slds-listbox__option_plain slds-media_small slds-is-selected"
                        onclick={handleOptionClick}
                        >
                        <!-- value = {option.value} -->
                        
                        <li role="presentation" >
                            <span class="slds-media__figure slds-listbox__option-icon" >
                                    <template if:true={option.value.isSelected}>
                                        <span class="slds-icon_container slds-icon-utility-check slds-current-color">
                                            <lightning-icon class="slds-p-top_xxx-small" 
                                            icon-name="utility:check" 
                                            size="x-small" 
                                            alternative-text="Selected" 
                                            title="Selected">
                                        </lightning-icon>
                                    </span>
                                </template>
                            </span>
                            <span class="slds-media__body" >
                                <span class="slds-truncate" title={option.label} >
                                    <span class="slds-assistive-text" >Current Selection:</span>
                                    {option.label}
                                </span>
                            </span>
                    </li>
                    
                </div>
                    
                    
                        <!-- <c-picklist-value
                            key={option.value}
                            label={option.label}
                            value={option.value}
                            onclick={handleOptionClick}
                            selected={isSelected}
                            ></c-picklist-value> -->
                    </template>
                </ul>
            </div>
        </template>
    </div>
</template>
